<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>Изучение JavaScript</title>
	<script>
		let tr_top = 0;
		let tr_left = 0;
		
		function imagePos(X , Y, angle){
			let im = document.getElementById("tractor100");
			tr_top +=X;
			tr_left +=Y;
			
			im.style.transform = 'rotate(' + angle + 'deg)';
			im.style.top = (tr_top + "px");
			im.style.left = (tr_left + "px");
			
		    
		}
		
		let comand = [];
		function stackComandAdd(X,Y,Angle){
			comand += X + " " + Y+ " " + Angle + "\n";
		     
			
		}
		let comandN;
		function comandStart(){
			comandN = comand.split("\n");
			
			for(var i = 0; i < comandN.length - 1; i++){
				sp = comandN[i].split(" ");
				setTimeout(imagePos, i*500, Number(sp[0]),Number(sp[1]), Number(sp[2]));
				}
		}
		
	</script>
</head>
<body>

	<img name="tractor100" id="tractor100" style="position:absolute" src="tractor100.png">
		
	<div style="position:absolute; top:10%; left:80%" id=div2>
	    <button value="up"      onClick="stackComandAdd(-30, 0 ,0)"> Вверх </button><br>
		<button value="Left"    onClick="stackComandAdd(0, -30, 270)"> Лево </button><br>
	    <button value="Right"   onClick="stackComandAdd(0, 30, 90)"> Право </button><br>
	    <button value="Down"    onClick="stackComandAdd(30,0,180)"> Вниз </button><br>
	    <br>
	    <br>
	    <button value="go"    onClick="comandStart()"> Выполнить </button><br>
	</div>
	
	

</body>



</html>